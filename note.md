# Rust学习笔记

## 指针、引用、智能指针

### 指针

Rust提供了多种类型的指针：

1. 引用（Reference），共享引用&，可变引用&mut
2. 原生指针,又叫裸指针（Raw Pointer），*const和*mut
3. 智能指针（Smart Pointer），Box，Rc等

### 引用

1. 共享数据，但不获得其所有权，即变量的所有者仍然只有一个
2. 在作用域中的数据有且只能有一个可变引用
3. 可以有多个不可变引用
4. 不能同时拥有不可变引用和可变引用

注意，以下表示等价关系。

1. ref在等于号左边等价于&符号在等号右边
```Rust
let ref x = 1;
let x = &1;
```
2. &在等于号左边等价于*号在等于号右边
```Rust
let &y = x;
let y = *x;
```
### 智能指针

在Rust中，引用和智能指针的一个的区别是引用是一类只借用数据的指针；相反，在大部分情况下，智能指针拥有他们指向的数据。Rust标准库中不同的智能指针提供了比引用更丰富的功能：

1. Box，用于在堆上分配数据，只能有一个所有者
2. Rc，一个引用计数类型，其数据可以有多个所有者。
3. Ref 和 RefMut，通过RefCell访问，一个在运行时而不是在编译时执行借用规则的类型。
